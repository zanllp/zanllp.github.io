{"version":3,"file":"js/app.a9b594a9.js","mappings":"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","sources":["webpack://extendable-viewer/./asset/vrm/girl.vrm","webpack://extendable-viewer/./asset/walking.fbx","webpack://extendable-viewer/./src/registerServiceWorker.ts","webpack://extendable-viewer/./src/clip.ts","webpack://extendable-viewer/./src/controller.ts","webpack://extendable-viewer/./src/app.tsx","webpack://extendable-viewer/./src/main.ts","webpack://extendable-viewer/webpack/bootstrap","webpack://extendable-viewer/webpack/runtime/chunk loaded","webpack://extendable-viewer/webpack/runtime/compat get default export","webpack://extendable-viewer/webpack/runtime/define property getters","webpack://extendable-viewer/webpack/runtime/global","webpack://extendable-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://extendable-viewer/webpack/runtime/make namespace object","webpack://extendable-viewer/webpack/runtime/publicPath","webpack://extendable-viewer/webpack/runtime/jsonp chunk loading","webpack://extendable-viewer/webpack/startup"],"sourcesContent":["module.exports = __webpack_public_path__ + \"290feb9fd69f68e66efa261311465406.vrm\";","module.exports = __webpack_public_path__ + \"0cd5ecf8f6947cc6f087311ab0e32d85.fbx\";","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import * as THREE from 'three'\nimport { VRM, VRMSchema } from '@pixiv/three-vrm'\n\nconst BONE_NAME_LIST: VRMSchema.HumanoidBoneName[] = [\n  VRMSchema.HumanoidBoneName.Head,\n  VRMSchema.HumanoidBoneName.Neck,\n  VRMSchema.HumanoidBoneName.Chest,\n  VRMSchema.HumanoidBoneName.Spine,\n  VRMSchema.HumanoidBoneName.Hips,\n  VRMSchema.HumanoidBoneName.RightShoulder,\n  VRMSchema.HumanoidBoneName.RightUpperArm,\n  VRMSchema.HumanoidBoneName.RightLowerArm,\n  VRMSchema.HumanoidBoneName.RightHand,\n  VRMSchema.HumanoidBoneName.LeftShoulder,\n  VRMSchema.HumanoidBoneName.LeftUpperArm,\n  VRMSchema.HumanoidBoneName.LeftLowerArm,\n  VRMSchema.HumanoidBoneName.LeftHand,\n  VRMSchema.HumanoidBoneName.RightUpperLeg,\n  VRMSchema.HumanoidBoneName.RightLowerLeg,\n  VRMSchema.HumanoidBoneName.RightFoot,\n  VRMSchema.HumanoidBoneName.LeftUpperLeg,\n  VRMSchema.HumanoidBoneName.LeftLowerLeg,\n  VRMSchema.HumanoidBoneName.LeftFoot\n]\n\nconst MIXAMO_ID_LIST: string[] = [\n  'mixamorigHead',\n  'mixamorigNeck',\n  'mixamorigSpine2',\n  'mixamorigSpine',\n  'mixamorigHips',\n  'mixamorigRightShoulder',\n  'mixamorigRightArm',\n  'mixamorigRightForeArm',\n  'mixamorigRightHand',\n  'mixamorigLeftShoulder',\n  'mixamorigLeftArm',\n  'mixamorigLeftForeArm',\n  'mixamorigLeftHand',\n  'mixamorigRightUpLeg',\n  'mixamorigRightLeg',\n  'mixamorigRightFoot',\n  'mixamorigLeftUpLeg',\n  'mixamorigLeftLeg',\n  'mixamorigLeftFoot'\n]\n\nconst BVHWEBVIEWR_ID_LIST: string[] = [\n  'head',\n  'neck',\n  'chest',\n  'abdomen',\n  'hip',\n  'rCollar',\n  'rShldr',\n  'rForeArm',\n  'rHand',\n  'lCollar',\n  'lShldr',\n  'lForeArm',\n  'lHand',\n  'rButtock',\n  'rShin',\n  'rFoot',\n  'lButtock',\n  'lShin',\n  'lFoot'\n]\n\nconst TDPT_ID_LIST: string[] = [\n  'Head',\n  'Neck',\n  'Chest',\n  'Spine',\n  'Hips',\n  'RightShoulder',\n  'RightUpperArm',\n  'RightLowerArm',\n  'RightHand',\n  'LeftShoulder',\n  'LeftUpperArm',\n  'LeftLowerArm',\n  'LeftHand',\n  'RightUpperLeg',\n  'RightLowerLeg',\n  'RightFoot',\n  'LeftUpperLeg',\n  'LeftLowerLeg',\n  'LeftFoot'\n]\n\nfunction findTrack (name: string, tracks: THREE.KeyframeTrack[]): THREE.KeyframeTrack | null {\n  for (let i = 0; i < tracks.length; i++) {\n    if (tracks[i].name === name) return tracks[i]\n  }\n  return null\n}\n\nfunction values2quaternion (values: Float32Array, i: number): THREE.Quaternion {\n  return new THREE.Quaternion(\n    values[i * 4],\n    values[i * 4 + 1],\n    values[i * 4 + 2],\n    values[i * 4 + 3]\n  )\n}\n\nfunction createKeys (id: string, tracks: THREE.KeyframeTrack[], isRootMotion = true) {\n  const posTrack = findTrack(`.bones[${id}].position`, tracks)\n  const rotTrack = findTrack(`.bones[${id}].quaternion`, tracks)\n\n  if (!posTrack) return\n  if (!rotTrack) return\n\n  const keys = []\n  const rate = 0.008\n  for (let i = 0; i < posTrack.times.length; i++) {\n    const key: { [name: string]: number | [number, number, number] | [number, number, number, number] } = {}\n\n    key.time = parseInt(`${posTrack.times[i] * 1000}`)\n\n    if (id === 'rButtock' || id === 'lButtock') {\n      const id2 = id === 'rButtock' ? 'rThigh' : 'lThigh'\n      const q1 = values2quaternion(rotTrack.values, i)\n      const rotTrack2 = findTrack(`.bones[${id2}].quaternion`, tracks)\n      if (!rotTrack2) return\n      q1.multiply(values2quaternion(rotTrack2.values, i))\n      key.rot = [-q1.x, q1.y, -q1.z, q1.w]\n    } else {\n      key.rot = [\n        -rotTrack.values[i * 4],\n        rotTrack.values[i * 4 + 1],\n        -rotTrack.values[i * 4 + 2],\n        rotTrack.values[i * 4 + 3]\n      ]\n    }\n\n    if ((id === 'hip' || id === 'Hips') && isRootMotion) {\n      key.pos = [\n        -posTrack.values[i * 3] * rate,\n        posTrack.values[i * 3 + 1] * rate,\n        -posTrack.values[i * 3 + 2] * rate\n      ]\n    }\n\n    keys.push(key)\n  }\n  if (keys.length === 0) return null\n  return keys\n}\n\nenum BVHFormt {\n    BvhWebViewr,\n    Tdpt,\n}\n\nfunction createClip (clip: THREE.AnimationClip, vrm: VRM, isRootMotion = true, bvhFormat: BVHFormt = BVHFormt.Tdpt) {\n  let idList: string[]\n\n  switch (bvhFormat) {\n    case BVHFormt.BvhWebViewr:\n      idList = BVHWEBVIEWR_ID_LIST\n      break\n    case BVHFormt.Tdpt:\n      idList = TDPT_ID_LIST\n      break\n  }\n\n  const bones = BONE_NAME_LIST.map((boneName) => {\n    return vrm.humanoid!.getBoneNode(boneName)\n  })\n    .filter((item): item is NonNullable<typeof item> => item != null)\n    .map(v => v as THREE.Bone)\n\n  const hierarchy = []\n  for (let i = 0; i < idList.length; i++) {\n    const keys = createKeys(idList[i], clip.tracks, isRootMotion)\n    if (keys != null) {\n      hierarchy.push({ keys: keys })\n    }\n  }\n\n  const resClip = THREE.AnimationClip.parseAnimation(\n    { hierarchy: hierarchy },\n    bones\n  )\n\n  resClip.tracks.forEach((track) => {\n    track.name = track.name.replace(\n      /^\\.bones\\[([^\\]]+)\\].(position|quaternion|scale)$/,\n      '$1.$2'\n    )\n  })\n\n  return resClip\n}\n\nfunction mixamoClipToVRMClip (clip: THREE.AnimationClip, vrm: VRM, isRootMotion = true): THREE.AnimationClip {\n  const tracks = clip.tracks\n  const bones = BONE_NAME_LIST.map((boneName) => {\n    return vrm.humanoid!.getBoneNode(boneName)! as THREE.Bone\n  })\n  const hierarchy = []\n  for (const id of MIXAMO_ID_LIST) {\n    const posTrack = findTrack(`${id}.position`, tracks)\n    const rotTrack = findTrack(`${id}.quaternion`, tracks)\n    const keys = []\n    const rate = 0.008\n    if (rotTrack !== null) {\n      for (let i = 0; i < rotTrack.times.length; i++) {\n        const key: { [name: string]: number | [number, number, number] | [number, number, number, number] } = {}\n        key.time = parseInt(`${rotTrack.times[i] * 1000}`)\n        key.rot = [\n          -rotTrack.values[i * 4],\n          rotTrack.values[i * 4 + 1],\n          -rotTrack.values[i * 4 + 2],\n          rotTrack.values[i * 4 + 3]\n        ]\n        if (id === 'mixamorigHips' && posTrack !== null && isRootMotion) {\n          key.pos = [\n            -posTrack.values[i * 3] * rate,\n            posTrack.values[i * 3 + 1] * rate,\n            -posTrack.values[i * 3 + 2] * rate\n          ]\n        }\n        keys.push(key)\n      }\n    }\n    if (keys.length > 0) {\n      hierarchy.push({ keys: keys })\n    }\n  }\n  const resClip = THREE.AnimationClip.parseAnimation({ hierarchy: hierarchy }, bones)\n  resClip.tracks.forEach((track) => {\n    track.name = track.name.replace(\n      /^\\.bones\\[([^\\]]+)\\].(position|quaternion|scale)$/,\n      '$1.$2'\n    )\n  })\n  return resClip\n}\n\nfunction bvhWebViewrClipToVRMClip (clip: THREE.AnimationClip, vrm: VRM, isRootMotion = true): THREE.AnimationClip {\n  return createClip(clip, vrm, isRootMotion, BVHFormt.BvhWebViewr)\n}\n\nfunction tdptClipToVRMClip (clip: THREE.AnimationClip, vrm: VRM, isRootMotion = true): THREE.AnimationClip {\n  return createClip(clip, vrm, isRootMotion, BVHFormt.Tdpt)\n}\n\nexport {\n  mixamoClipToVRMClip,\n  bvhWebViewrClipToVRMClip,\n  tdptClipToVRMClip\n}\n","import * as THREE from 'three'\nimport { VRM } from '@pixiv/three-vrm'\n\nexport enum TurnDirection {\n  Right,\n  Left,\n  None\n}\n\nexport class VRMController {\n  vrm: VRM\n\n  forwardFlug = false\n  forwardAnimation: THREE.AnimationAction | null = null\n\n  turnDirection: TurnDirection = TurnDirection.None\n\n  constructor (vrm: VRM, forwardAnimation: THREE.AnimationAction | null = null) {\n    this.vrm = vrm\n    this.forwardAnimation = forwardAnimation\n  }\n\n  get forwardVector (): {x: number, z: number} {\n    const vec = { x: -Math.sin(this.vrm.scene.rotation.y), z: -Math.cos(this.vrm.scene.rotation.y) }\n    return vec\n  }\n\n  forwardUpdate (speed = 0.025) {\n    if (this.forwardFlug) {\n      const vec = this.forwardVector\n      const xMove = vec.x * speed\n      const zMove = vec.z * speed\n      this.vrm.scene.position.x += xMove\n      this.vrm.scene.position.z += zMove\n    }\n  }\n\n  forwardBegin () {\n    this.forwardFlug = true\n    if (this.forwardAnimation) this.forwardAnimation.play()\n  }\n\n  forwardEnd () {\n    this.forwardFlug = false\n    if (this.forwardAnimation) this.forwardAnimation.stop()\n  }\n\n  turnUpdate (radian: number = 1 * Math.PI / 180) {\n    if (this.turnDirection !== TurnDirection.None) {\n      const isRight = this.turnDirection === TurnDirection.Right\n      let rotY = this.vrm.scene.rotation.y + (isRight ? -radian : radian)\n      if (rotY > 2 * Math.PI) rotY = rotY - 2 * Math.PI\n      this.vrm.scene.rotation.y = rotY\n    }\n  }\n\n  turnBegin (direction: TurnDirection.Right | TurnDirection.Left | 'right' | 'left') {\n    if (typeof direction !== 'string') { this.turnDirection = direction } else {\n      switch (direction) {\n        case 'right':\n          this.turnDirection = TurnDirection.Right\n          break\n        case 'left':\n          this.turnDirection = TurnDirection.Left\n          break\n      }\n    }\n  }\n\n  turnEnd () {\n    this.turnDirection = TurnDirection.None\n  }\n}\n","import { defineComponent } from 'vue'\nimport './registerServiceWorker'\nimport {\n  AnimationMixer,\n  Camera,\n  Clock,\n  DirectionalLight,\n  Euler,\n  MathUtils,\n  PerspectiveCamera,\n  Quaternion,\n  Scene,\n  Vector3,\n  WebGLRenderer\n} from 'three'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport { RawVector4, VRM, VRMPose, VRMSchema, VRMUtils } from '@pixiv/three-vrm'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport { Sky } from 'three/examples/jsm/objects/Sky'\nimport { GUI } from 'dat.gui'\nimport gltf from '../asset/vrm/girl.vrm'\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader'\nimport { mixamoClipToVRMClip } from './clip'\nimport { VRMController } from './controller'\nimport idoljson from '../asset/idol.json'\nimport walkingfbx from '../asset/walking.fbx'\n\nfunction initSky (scene: Scene, renderer: WebGLRenderer, camera: Camera) {\n  // Add Sky\n  const sky = new Sky()\n  sky.scale.setScalar(450000)\n  scene.add(sky)\n\n  const sun = new Vector3()\n\n  /// GUI\n\n  const effectController = {\n    turbidity: 10,\n    rayleigh: 3,\n    mieCoefficient: 0.005,\n    mieDirectionalG: 0.7,\n    elevation: 2,\n    azimuth: 180,\n    exposure: renderer.toneMappingExposure\n  }\n\n  function guiChanged () {\n    const uniforms = sky.material.uniforms\n    uniforms.turbidity.value = effectController.turbidity\n    uniforms.rayleigh.value = effectController.rayleigh\n    uniforms.mieCoefficient.value = effectController.mieCoefficient\n    uniforms.mieDirectionalG.value = effectController.mieDirectionalG\n\n    const phi = MathUtils.degToRad(90 - effectController.elevation)\n    const theta = MathUtils.degToRad(effectController.azimuth)\n\n    sun.setFromSphericalCoords(1, phi, theta)\n\n    uniforms.sunPosition.value.copy(sun)\n\n    renderer.toneMappingExposure = effectController.exposure\n    renderer.render(scene, camera)\n  }\n\n  const gui = new GUI()\n\n  gui.add(effectController, 'turbidity', 0.0, 20.0, 0.1).onChange(guiChanged)\n  gui.add(effectController, 'rayleigh', 0.0, 4, 0.001).onChange(guiChanged)\n  gui\n    .add(effectController, 'mieCoefficient', 0.0, 0.1, 0.001)\n    .onChange(guiChanged)\n  gui\n    .add(effectController, 'mieDirectionalG', 0.0, 1, 0.001)\n    .onChange(guiChanged)\n  gui.add(effectController, 'elevation', 0, 90, 0.1).onChange(guiChanged)\n  gui.add(effectController, 'azimuth', -180, 180, 0.1).onChange(guiChanged)\n  gui.add(effectController, 'exposure', 0, 1, 0.0001).onChange(guiChanged)\n\n  guiChanged()\n}\nexport const App = defineComponent({\n  async setup () {\n    const renderer = new WebGLRenderer()\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    renderer.setPixelRatio(window.devicePixelRatio)\n    document.body.appendChild(renderer.domElement)\n\n    // camera\n    const camera = new PerspectiveCamera(\n      30.0,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      20.0\n    )\n\n    camera.position.set(0.0, 1.0, 4)\n\n    // camera controls\n    const controls = new OrbitControls(camera, renderer.domElement)\n    controls.screenSpacePanning = true\n    controls.target.set(0.0, 1, 0.0)\n    controls.update()\n\n    // scene\n    const scene = new Scene()\n\n    // light\n    const light = new DirectionalLight(0xffffff)\n    light.position.set(1.0, 1.0, 1.0).normalize()\n    scene.add(light)\n\n    initSky(scene, renderer, camera)\n    // gltf and vrm\n    let currentMixer: AnimationMixer | undefined\n    const loader = new GLTFLoader()\n    loader.crossOrigin = 'anonymous'\n    const gltfmodel = await loader.loadAsync(gltf)\n    VRMUtils.removeUnnecessaryVertices(gltfmodel.scene)\n    VRMUtils.removeUnnecessaryJoints(gltfmodel.scene)\n    const vrm = await VRM.from(gltfmodel)\n\n    scene.add(vrm.scene)\n    vrm.scene.rotation.y += Math.PI\n    const currentVrm = vrm\n\n    vrm.humanoid!.getBoneNode(VRMSchema.HumanoidBoneName.Hips)!.rotation.y =\n      Math.PI\n    vrm.springBoneManager!.reset()\n\n    vrm.humanoid!.setPose(idoljson)\n\n    // animate\n    const clock = new Clock()\n    const fbxLoader = new FBXLoader()\n    const walkFbx = await fbxLoader.loadAsync(walkingfbx)\n    console.log(walkFbx)\n    const walkClip = mixamoClipToVRMClip(walkFbx.animations[0], vrm, false)\n    console.log(walkClip)\n    walkClip.name = 'walk'\n    const mixer: THREE.AnimationMixer = new AnimationMixer(vrm.scene)\n    const walkFlug = false\n\n    const walk = mixer.clipAction(walkClip).setEffectiveWeight(1.0)\n    walk.clampWhenFinished = true\n\n    const controller: VRMController = new VRMController(vrm, walk)\n    let lastTime = new Date().getTime()\n    // controller.forwardAnimation?.play()\n    function animate () {\n      requestAnimationFrame(animate)\n\n      const deltaTime = clock.getDelta()\n\n      if (currentVrm) {\n        currentVrm.update(deltaTime)\n        controller.forwardUpdate()\n        controller.turnUpdate()\n        const v = Math.sin(Math.PI * clock.elapsedTime)\n        console.log(v)\n\n        currentVrm.blendShapeProxy!.setValue(VRMSchema.BlendShapePresetName.Joy, 0.5 + 0.5 * v)\n        const time = new Date().getTime()\n        if (mixer) mixer.update(time - lastTime)\n        lastTime = time\n        renderer.setAnimationLoop(() => {\n          renderer.render(scene, camera)\n        })\n        if (mixer) {\n          mixer.update(clock.getDelta())\n        }\n      }\n\n      window.addEventListener('keyup', (e) => {\n        switch (e.code) {\n          case 'ArrowUp':\n          case 'KeyW':\n            controller.forwardEnd()\n            break\n          case 'ArrowLeft':\n          case 'KeyA':\n          case 'ArrowRight':\n          case 'KeyD':\n            controller.turnEnd()\n            break\n        }\n      })\n\n      window.addEventListener('keydown', (e) => {\n        switch (e.code) {\n          case 'ArrowUp':\n          case 'KeyW':\n            controller.forwardBegin()\n            break\n          case 'ArrowLeft':\n          case 'KeyA':\n            controller.turnBegin('left')\n            break\n          case 'ArrowRight':\n          case 'KeyD':\n            controller.turnBegin('right')\n            break\n        }\n      }\n      )\n      renderer.render(scene, camera)\n    }\n\n    animate()\n  }\n})\n\nexport type Type = (elapsed: number) => VRMPose\n\nexport const sayHello: Type = (elapsed) => ({\n  [VRMSchema.HumanoidBoneName.LeftUpperLeg]: {\n    rotation: [0.0, 0.0, -0.1, 1]\n  },\n  [VRMSchema.HumanoidBoneName.LeftUpperArm]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(\n          0,\n          0,\n          cosineRepeation(-Math.PI / 4, Math.PI / 4, Math.PI / 4)(elapsed),\n          'XYZ'\n        )\n      )\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.LeftLowerArm]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(\n          cosineRepeation(0, Math.PI / 1.3)(elapsed),\n          0,\n          cosineRepeation(0, Math.PI / 8)(elapsed),\n          'XYZ'\n        )\n      )\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.RightUpperArm]: {\n    rotation: new Quaternion()\n      .setFromEuler(new Euler(0, 0, -Math.PI / 4, 'XYZ'))\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.RightLowerArm]: {\n    rotation: new Quaternion()\n      .setFromEuler(new Euler(0, 0, -Math.PI / 2.3, 'XYZ'))\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.LeftHand]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(cosineRepeation(-Math.PI / 6, 0, 0)(elapsed), 0, 0, 'XYZ')\n      )\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.LeftShoulder]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(0, 0, cosineRepeation(-Math.PI / 6, 0, 0)(elapsed), 'XYZ')\n      )\n      .toArray() as RawVector4,\n    position: [\n      cosineRepeation(-0.025, 0, 0)(elapsed),\n      cosineRepeation(0, 0.08)(elapsed),\n      0\n    ]\n  },\n  [VRMSchema.HumanoidBoneName.UpperChest]: {\n    position: [cosineRepeation(0, 0.02)(elapsed), 0, 0]\n  },\n  [VRMSchema.HumanoidBoneName.Neck]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(0, 0, cosineRepeation(-Math.PI / 24, 0, 0)(elapsed), 'XYZ')\n      )\n      .toArray() as RawVector4\n  }\n})\n\nexport const standOnOneLeg: Type = (elapsed) => ({\n  [VRMSchema.HumanoidBoneName.LeftUpperLeg]: {\n    rotation: new Quaternion()\n      .setFromEuler(new Euler(-Math.PI / 6, 0, 0, 'XYZ'))\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.LeftLowerLeg]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(cosineRepeation(-Math.PI / 2, 0, 0)(elapsed), 0, 0, 'XYZ')\n      )\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.LeftUpperArm]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(\n          0,\n          0,\n          cosineRepeation(0, Math.PI / 15, Math.PI / 24, 1.5)(elapsed),\n          'XYZ'\n        )\n      )\n      .toArray() as RawVector4\n  },\n  [VRMSchema.HumanoidBoneName.RightUpperArm]: {\n    rotation: new Quaternion()\n      .setFromEuler(\n        new Euler(\n          0,\n          0,\n          cosineRepeation(-Math.PI / 15, 0, -Math.PI / 24, 1.5)(elapsed),\n          'XYZ'\n        )\n      )\n      .toArray() as RawVector4\n  }\n})\nexport function cosineRepeation (\n  min: number,\n  max: number,\n  start: number = min,\n  frequency = 1, // 2πf\n  increasingInitially = true\n) {\n  const l = (max - min) / 2 // amplitude\n  const k = -1 + (start - min) / l // relative y coordinate\n  const xIntercept = Math.acos(k) * (increasingInitially ? -1 : 1)\n  return (elapsed: number) =>\n    l * Math.cos(frequency * (elapsed - xIntercept)) + min + l\n}\n","import { createApp } from 'vue'\nimport { App } from './app'\nimport './registerServiceWorker'\nimport './app.scss'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkextendable_viewer\"] = self[\"webpackChunkextendable_viewer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8768); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["module","exports","register","ready","console","log","registered","cached","updatefound","updated","offline","error","BONE_NAME_LIST","VRMSchema","MIXAMO_ID_LIST","findTrack","name","tracks","i","length","BVHFormt","mixamoClipToVRMClip","clip","vrm","isRootMotion","bones","map","boneName","humanoid","getBoneNode","hierarchy","id","posTrack","rotTrack","keys","rate","times","key","time","parseInt","rot","values","pos","push","resClip","THREE","forEach","track","replace","TurnDirection","VRMController","constructor","forwardAnimation","None","this","forwardVector","vec","x","Math","sin","scene","rotation","y","z","cos","forwardUpdate","speed","forwardFlug","xMove","zMove","position","forwardBegin","play","forwardEnd","stop","turnUpdate","radian","PI","turnDirection","isRight","Right","rotY","turnBegin","direction","Left","turnEnd","initSky","renderer","camera","sky","Sky","scale","setScalar","add","sun","Vector3","effectController","turbidity","rayleigh","mieCoefficient","mieDirectionalG","elevation","azimuth","exposure","toneMappingExposure","guiChanged","uniforms","material","value","phi","MathUtils","theta","setFromSphericalCoords","sunPosition","copy","render","gui","GUI","onChange","App","defineComponent","async","WebGLRenderer","setSize","window","innerWidth","innerHeight","setPixelRatio","devicePixelRatio","document","body","appendChild","domElement","PerspectiveCamera","set","controls","OrbitControls","screenSpacePanning","target","update","Scene","light","DirectionalLight","normalize","loader","GLTFLoader","crossOrigin","gltfmodel","loadAsync","gltf","VRMUtils","VRM","currentVrm","springBoneManager","reset","setPose","idoljson","clock","Clock","fbxLoader","FBXLoader","walkFbx","walkingfbx","walkClip","animations","mixer","AnimationMixer","walk","clipAction","setEffectiveWeight","clampWhenFinished","controller","lastTime","Date","getTime","animate","requestAnimationFrame","deltaTime","getDelta","v","elapsedTime","blendShapeProxy","setValue","setAnimationLoop","addEventListener","e","code","createApp","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}