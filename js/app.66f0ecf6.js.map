{"version":3,"file":"js/app.66f0ecf6.js","mappings":"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","sources":["webpack://extendable-viewer/./asset/DamagedHelmet/DamagedHelmet.gltf","webpack://extendable-viewer/./asset/texture/environment.dds","webpack://extendable-viewer/./asset/vrm/girl.vrm","webpack://extendable-viewer/./src/registerServiceWorker.ts","webpack://extendable-viewer/./src/gltf.ts","webpack://extendable-viewer/./src/ballTop.ts","webpack://extendable-viewer/./src/vrm.ts","webpack://extendable-viewer/./src/app.tsx","webpack://extendable-viewer/./src/main.ts","webpack://extendable-viewer/webpack/bootstrap","webpack://extendable-viewer/webpack/runtime/chunk loaded","webpack://extendable-viewer/webpack/runtime/compat get default export","webpack://extendable-viewer/webpack/runtime/define property getters","webpack://extendable-viewer/webpack/runtime/global","webpack://extendable-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://extendable-viewer/webpack/runtime/make namespace object","webpack://extendable-viewer/webpack/runtime/publicPath","webpack://extendable-viewer/webpack/runtime/jsonp chunk loading","webpack://extendable-viewer/webpack/startup"],"sourcesContent":["module.exports = __webpack_public_path__ + \"814423b1939dd377db7f5c59280ac1ad.gltf\";","module.exports = __webpack_public_path__ + \"6140ab69a9155fbef5c170dd07459a70.dds\";","module.exports = __webpack_public_path__ + \"290feb9fd69f68e66efa261311465406.vrm\";","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import {\n  Scene,\n  Engine,\n  FreeCamera,\n  HemisphericLight,\n  Vector3,\n  SceneLoader,\n  ArcFollowCamera,\n  CubeTexture\n} from '@babylonjs/core'\n// import gltfa from '../asset/box/Box.gltf'\nimport gltfb from '../asset/DamagedHelmet/DamagedHelmet.gltf'\nimport hdrEnv from '../asset/texture/environment.dds'\n\nexport class GltfPlayground {\n  public static CreateScene (engine: Engine, canvas: HTMLCanvasElement): Scene {\n    const scene = new Scene(engine)\n    console.log(hdrEnv)\n    const hdrTexture = CubeTexture.CreateFromPrefilteredData(hdrEnv, scene)\n    scene.createDefaultSkybox(hdrTexture, true)\n    // This creates and positions a free camera (non-mesh)\n    const camera = new FreeCamera('camera1', new Vector3(0, 0, -0), scene)\n\n    // This targets the camera to scene origin\n    camera.setTarget(Vector3.Zero())\n\n    // This attaches the camera to the canvas\n    camera.attachControl(canvas, true)\n\n    // This creates a light, aiming 0,1,0 - to the sky (non-mesh)\n    const light = new HemisphericLight('light1', new Vector3(0, 1, 0), scene)\n\n    // Default intensity is 1. Let's dim the light a small amount\n    // light.intensity = 0.7\n    SceneLoader.Append('', (gltfb as string).slice(1), scene, function (scene) {\n      // Create a default arc rotate camera and light.\n      scene.createDefaultCameraOrLight(true, true, true)\n      // The default camera looks at the back of the asset.\n      // Rotate the camera by 180 degrees to the front of the asset.\n      // scene.activeCamera!.alpha += Math.PI\n      const camera = scene.activeCamera as ArcFollowCamera\n      camera.alpha += (4 * Math.PI) / 5\n      camera.beta -= Math.PI / 16\n    })\n    return scene\n  }\n}\n","import {\n  Engine,\n  Scene,\n  Vector3,\n  Quaternion,\n  Color3,\n  ArcRotateCamera,\n  HemisphericLight,\n  MeshBuilder,\n  StandardMaterial,\n  Mesh,\n  VertexBuffer,\n  Matrix\n} from '@babylonjs/core'\nimport { CustomMaterial } from '@babylonjs/materials'\n\nexport const ballTop = (engine: Engine, canvas: HTMLCanvasElement): Scene => {\n  // This creates a basic Babylon Scene object (non-mesh)\n  //\n  // Helpers\n  //\n\n  const tmpVector1 = Vector3.Zero()\n  function setDirectionToRef (normal: Vector3, quaternion: any) {\n    quaternion = quaternion || new Quaternion()\n\n    tmpVector1.set(normal.z, 0, -normal.x).normalize()\n    const radians = Math.acos(normal.y)\n\n    quaternion = Quaternion.RotationAxisToRef(tmpVector1, radians, quaternion)\n\n    return quaternion\n  }\n\n  //\n  // Main\n  //\n\n  const scene = new Scene(engine)\n  // scene.clearColor = new Color3(16 / 255, 22 / 255, 26 / 255);\n  scene.clearColor = new Color3(245 / 255, 248 / 255, 250 / 255) as any\n\n  const camera = new ArcRotateCamera(\n    'camera',\n    Math.PI / 2,\n    Math.PI / 3.5,\n    50.7,\n    new Vector3(0, 0, 0),\n    scene\n  )\n  // camera.lowerBetaLimit = null;\n  // camera.upperBetaLimit = null;\n  camera.lowerAlphaLimit = null\n  camera.upperAlphaLimit = null\n  camera.allowUpsideDown = true\n  camera.attachControl(canvas, true)\n  camera.fov = 1.0\n  camera.minZ = 0.1\n  // camera.wheelPrecision = 150.0;\n  camera.useAutoRotationBehavior = true\n  camera.autoRotationBehavior!.idleRotationSpeed = 0.19\n\n  const baseLight = new HemisphericLight(\n    'hemiLight',\n    new Vector3(-1, 1, 0),\n    scene\n  )\n  baseLight.intensity = 1\n  baseLight.diffuse = new Color3(1, 1, 1)\n  baseLight.specular = new Color3(0.25, 0.25, 0.25)\n  baseLight.groundColor = new Color3(0.5, 0.5, 0.5)\n  // baseLight.groundColor = new Color3(1, 1, 1);\n  const mat = new CustomMaterial('s', scene)\n  mat.diffuseColor = new Color3(72 / 255, 175 / 255, 240 / 255)\n  mat.specularColor = new Color3(1, 1, 1)\n  mat.specularColor = new Color3(0, 0, 0)\n  mat.freeze()\n\n  const baseSphere = MeshBuilder.CreateIcoSphere(\n    'baseSphere',\n    { radius: 20, subdivisions: 64, updatable: false, flat: false },\n    scene\n  )\n  const sphereMat = new StandardMaterial('mat', scene)\n  baseSphere.material = sphereMat\n  sphereMat.diffuseColor = new Color3(0, 0, 0)\n  sphereMat.specularColor = new Color3(0, 0, 0)\n  // baseSphere.visibility = 0.25;\n\n  //\n  // Mesh\n  //\n\n  const path = []\n  const maxSegments = 10\n  for (let i = 0; i < maxSegments; i += 1) {\n    path.push(new Vector3(0, i / maxSegments, 0))\n  }\n  const mesh = MeshBuilder.CreateTube('tube', {\n    path,\n    tessellation: 6,\n    radiusFunction: (i) => {\n      const r = 1 - (i + 1) / maxSegments\n      const rs = Math.sin((r * Math.PI) / 2)\n\n      return rs * 0.125\n    },\n    cap: Mesh.NO_CAP,\n    // scene: scene as any,\n    updatable: false,\n    sideOrientation: Mesh.DEFAULTSIDE\n  })\n  mesh.material = mat\n  mesh.freezeWorldMatrix()\n  mesh.doNotSyncBoundingInfo = true\n\n  //\n  // Instances\n  //\n\n  const spherePositions = baseSphere.geometry!.getVerticesData(\n    VertexBuffer.PositionKind\n  )!\n  const sphereNormals = baseSphere.geometry!.getVerticesData(\n    VertexBuffer.NormalKind\n  )!\n\n  const rotation = Quaternion.RotationAxis(new Vector3(0, 0, 1), Math.PI / 2)\n  const scaling = new Vector3(1, 1, 1)\n\n  const resultMatrix = new Matrix()\n\n  const total = spherePositions.length / 3\n\n  const bufferMatrices = new Float32Array(16 * total)\n  const bufferIdxes = new Float32Array(total)\n\n  const transition = new Vector3()\n  const normal = new Vector3()\n  for (let i = 0; i < total; i += 1) {\n    transition.x = spherePositions[i * 3 + 0]\n    transition.y = spherePositions[i * 3 + 1]\n    transition.z = spherePositions[i * 3 + 2]\n\n    scaling.y = 1 + (Math.random() * 0.5 - 0.5) * 0.5\n\n    const rx = (Math.random() * 0.5 - 0.5) * 0.5\n    const ry = (Math.random() * 0.5 - 0.5) * 0.5\n    const rz = (Math.random() * 0.5 - 0.5) * 0.5\n\n    const randomRot = Quaternion.RotationAlphaBetaGamma(rx, ry, rz)\n    transition.rotateByQuaternionToRef(randomRot, transition)\n\n    normal.x = sphereNormals[i * 3 + 0]\n    normal.y = sphereNormals[i * 3 + 1]\n    normal.z = sphereNormals[i * 3 + 2]\n\n    setDirectionToRef(normal, rotation)\n\n    Matrix.ComposeToRef(scaling, rotation, transition, resultMatrix)\n    resultMatrix.copyToArray(bufferMatrices, 16 * i)\n    bufferIdxes[i] = i\n  }\n\n  mesh.thinInstanceSetBuffer('matrix', bufferMatrices, 16, true)\n  mesh.thinInstanceSetBuffer('idx', bufferIdxes, 1, true)\n\n  //\n  // Shaders\n  //\n\n  mat.AddAttribute('idx')\n\n  mat.Vertex_Definitions(`\nvarying float vR;\nvarying float vIdx;\nattribute float idx;\n\n#define MOD3 vec3(.1031, .11369, .13787)\n\nvec3 hash33(vec3 p3) {\n  p3 = fract(p3 * MOD3);\n  p3 += dot(p3, p3.yxz + 19.19);\n  return -1.0 + 2.0 * fract(vec3((p3.x + p3.y) * p3.z, (p3.x + p3.z) * p3.y, (p3.y + p3.z) * p3.x));\n}\n\nfloat hash11(float p) {\n  p = fract(p * 0.1031);\n  p *= p + 33.33;\n  p *= p + p;\n  return fract(p);\n}\n\nfloat noise(vec3 p) {\n  const float K1 = 0.333333333;\n  const float K2 = 0.166666667;\n\n  vec3 i = floor(p + (p.x + p.y + p.z) * K1);\n  vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);\n\n  vec3 e = step(vec3(0.0), d0 - d0.yzx);\n  vec3 i1 = e * (1.0 - e.zxy);\n  vec3 i2 = 1.0 - e.zxy * (1.0 - e);\n\n  vec3 d1 = d0 - (i1 - 1.0 * K2);\n  vec3 d2 = d0 - (i2 - 2.0 * K2);\n  vec3 d3 = d0 - (1.0 - 3.0 * K2);\n\n  vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);\n  vec4 n = h * h * h * h *\n           vec4(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.0)));\n\n  return dot(vec4(31.316), n);\n}\n  \n  `)\n  mat.Vertex_Before_PositionUpdated(`\n// ++++++++++++++++++++++++++\n\nfloat t = 100. + iTime * .75;\n\nvec3 oPos = position;\n\nvR = positionUpdated.y;\nvIdx = idx;\n\n// --------------------------\n\nvec4 world1c = world1;\n\nfloat lp1 = positionUpdated.y * .25 + 100.;\nfloat lp2 = positionUpdated.y * .25 + 1.;\n\npositionUpdated.y *= 3.;\n\nworld1c.x += noise(world2.rgb + vec3(-t, 0, 0) + vec3(lp1, 0., 0.)) * (lp2)*.5;\nworld1c.y += noise(world2.rgb + vec3(0, -t, 0) + vec3(0., lp1, 0.)) * (lp2)*.5;\nworld1c.z += noise(world2.rgb + vec3(0, 0, -t) + vec3(0., 0., lp1)) * (lp2)*.5;\n\nmat4 finalWorld = mat4(world0, world1c, world2, world3);\nfinalWorld = world * finalWorld;\nvec4 worldPos = finalWorld * vec4(positionUpdated, 1.0);\nmat3 normalWorld = mat3(finalWorld);\nvNormalW = normalUpdated / vec3(dot(normalWorld[0], normalWorld[0]), dot(normalWorld[1], normalWorld[1]),\n                                dot(normalWorld[2], normalWorld[2]));\nvNormalW = normalize(normalWorld * vNormalW);\n\n// Comment below\n/*\n  \n  `)\n  mat.Fragment_Definitions(`\nvarying float vR;\nvarying float vIdx;\n\nfloat hash11(float p) {\n  p = fract(p * 0.1031);\n  p *= p + 33.33;\n  p *= p + p;\n  return fract(p);\n}\n  \n  `)\n  mat.Fragment_Custom_Diffuse(`\n// vec3 col = vDiffuseColor.rgb * (vR*.75);\n\nfloat rColFactor = hash11(vIdx * .001);\n\ndiffuseColor = vDiffuseColor.rgb * (vR * 1.5) * (.85 + rColFactor * .3);\n  \n  `)\n\n  mat.Vertex_After_WorldPosComputed('*/')\n\n  //\n  // Attributes\n  //\n\n  mat.AddUniform('iTime', 'float', undefined)\n\n  const initTime = +new Date()\n  let time = 0\n  mat.onBind = () => {\n    time = (+new Date() - initTime) * 0.001\n    mat.getEffect().setFloat('iTime', time)\n  }\n\n  return scene\n}\n","import './registerServiceWorker'\nimport {\n  Scene,\n  Engine,\n  HemisphericLight,\n  Vector3,\n  SceneLoader,\n  ArcRotateCamera\n} from '@babylonjs/core'\nimport 'babylon-vrm-loader'\nimport girl from '../asset/vrm/girl.vrm'\n\nexport class VrmPlayground {\n  public static async CreateScene (engine: Engine, canvas: HTMLCanvasElement) {\n    const scene = new Scene(engine)\n    const camera = new ArcRotateCamera('MainCamera1', 0, 0, 3, new Vector3(0, 1.2, 0), scene)\n    camera.lowerRadiusLimit = 0.1\n    camera.upperRadiusLimit = 20\n    camera.wheelDeltaPercentage = 0.01\n    camera.minZ = 0.3\n    camera.position = new Vector3(0, 1.2, -3)\n    camera.attachControl(canvas, true)\n    const light = new HemisphericLight('light1', new Vector3(0, 1, 0), scene)\n    await SceneLoader.AppendAsync('', girl.slice(1), scene)\n    return scene\n  }\n}\n","import { useWindowSize } from '@vueuse/core'\nimport { defineComponent, onMounted, ref } from 'vue'\nimport './registerServiceWorker'\nimport { ok } from 'assert'\nimport { Engine, Mesh, Scene } from '@babylonjs/core'\nimport {\n  AdvancedDynamicTexture,\n  Button,\n  Control,\n  RadioButton,\n  Rectangle,\n  StackPanel,\n  TextBlock\n} from '@babylonjs/gui'\nimport 'babylon-vrm-loader'\nimport { GltfPlayground } from './gltf'\nimport { ballTop } from './ballTop'\nimport { VrmPlayground } from './vrm'\n\nexport const App = defineComponent({\n  setup () {\n    const ele = ref<HTMLCanvasElement>()\n    const { width, height } = useWindowSize()\n    onMounted(async () => {\n      const canvas = ele.value\n      ok(canvas)\n      const engine = new Engine(canvas, true, {\n        preserveDrawingBuffer: true,\n        stencil: true\n      })\n      type Target = 'pbr' | 'ball' | 'girl'\n      const currTarget: { v: Target } = { v: 'pbr' }\n      const createScene = async (t: Target) => {\n        let scene: Scene\n        switch (t) {\n          case 'ball':\n            scene = ballTop(engine, canvas)\n            break\n          case 'girl':\n            scene = await VrmPlayground.CreateScene(engine, canvas)\n            break\n          default:\n            scene = GltfPlayground.CreateScene(engine, canvas)\n        }\n        const advancedTexture = AdvancedDynamicTexture.CreateFullscreenUI('UI')\n\n        const panel = new StackPanel()\n        advancedTexture.addControl(panel)\n\n        panel.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP\n        panel.top = '50px'\n\n        const addRadio = (text: 'pbr' | 'ball' | 'girl') => {\n          const button = Button.CreateSimpleButton('but' + text, text)\n          button.width = 0.2\n          button.height = '40px'\n          button.color = 'white'\n          button.background = 'green'\n          panel.addControl(button)\n\n          button.onPointerClickObservable.add(function (state) {\n            currTarget.v = text\n          })\n        }\n\n        addRadio('ball')\n        addRadio('girl')\n        addRadio('pbr')\n        return scene\n      }\n      const scenes = {\n        pbr: await createScene('pbr'),\n        girl: await createScene('girl'),\n        ball: await createScene('ball')\n      }\n\n      const getCurrScene = () => scenes[currTarget.v]\n\n      engine.runRenderLoop(function () {\n        getCurrScene().render()\n      })\n      window.addEventListener('resize', function () {\n        engine.resize()\n      })\n    })\n    return () => (\n      <canvas ref={ele} height={height.value} width={width.value}></canvas>\n    )\n  }\n})\n","import { createApp, defineComponent, ref, withModifiers } from 'vue'\nimport { App } from './app'\nimport './registerServiceWorker'\nimport './app.scss'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkextendable_viewer\"] = self[\"webpackChunkextendable_viewer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2651); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["module","exports","register","ready","console","log","registered","cached","updatefound","updated","offline","error","GltfPlayground","engine","canvas","scene","Scene","hdrEnv","hdrTexture","CubeTexture","createDefaultSkybox","camera","FreeCamera","Vector3","setTarget","attachControl","HemisphericLight","SceneLoader","gltfb","createDefaultCameraOrLight","activeCamera","alpha","Math","PI","beta","ballTop","tmpVector1","setDirectionToRef","normal","quaternion","Quaternion","set","z","x","normalize","radians","acos","y","clearColor","Color3","ArcRotateCamera","lowerAlphaLimit","upperAlphaLimit","allowUpsideDown","fov","minZ","useAutoRotationBehavior","autoRotationBehavior","idleRotationSpeed","baseLight","intensity","diffuse","specular","groundColor","mat","CustomMaterial","diffuseColor","specularColor","freeze","baseSphere","MeshBuilder","radius","subdivisions","updatable","flat","sphereMat","StandardMaterial","material","path","maxSegments","i","push","mesh","tessellation","radiusFunction","r","rs","sin","cap","Mesh","sideOrientation","freezeWorldMatrix","doNotSyncBoundingInfo","spherePositions","geometry","getVerticesData","VertexBuffer","sphereNormals","rotation","scaling","resultMatrix","Matrix","total","length","bufferMatrices","Float32Array","bufferIdxes","transition","random","rx","ry","rz","randomRot","rotateByQuaternionToRef","copyToArray","thinInstanceSetBuffer","AddAttribute","Vertex_Definitions","Vertex_Before_PositionUpdated","Fragment_Definitions","Fragment_Custom_Diffuse","Vertex_After_WorldPosComputed","AddUniform","undefined","initTime","Date","time","onBind","getEffect","setFloat","VrmPlayground","lowerRadiusLimit","upperRadiusLimit","wheelDeltaPercentage","position","girl","App","defineComponent","setup","ele","ref","width","height","useWindowSize","onMounted","async","value","ok","Engine","preserveDrawingBuffer","stencil","currTarget","v","createScene","t","CreateScene","advancedTexture","AdvancedDynamicTexture","panel","StackPanel","addControl","verticalAlignment","Control","top","addRadio","text","button","Button","color","background","onPointerClickObservable","add","state","scenes","pbr","ball","getCurrScene","runRenderLoop","render","window","addEventListener","resize","createApp","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}