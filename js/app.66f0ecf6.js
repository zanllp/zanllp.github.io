(function(){var e={8024:function(e,n,t){e.exports=t.p+"814423b1939dd377db7f5c59280ac1ad.gltf"},2383:function(e,n,t){e.exports=t.p+"6140ab69a9155fbef5c170dd07459a70.dds"},7368:function(e,n,t){e.exports=t.p+"290feb9fd69f68e66efa261311465406.vrm"},2651:function(e,n,t){"use strict";var o=t(3862),r=t(3396),a=t(8916),i=t(4870),l=t(5431),c=t(5941);(0,l.z)("/service-worker.js",{ready(){c.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){c.log("Service worker has been registered.")},cached(){c.log("Content has been cached for offline use.")},updatefound(){c.log("New content is downloading.")},updated(){c.log("New content is available; please refresh.")},offline(){c.log("No internet connection found. App is running in offline mode.")},error(e){c.error("Error during service worker registration:",e)}});var d=t(5130),s=t(3100),f=t(2673),p=(t(4206),t(8024)),u=t.n(p),v=t(2383),w=t.n(v),h=t(5941);class m{static CreateScene(e,n){const t=new s.xsS(e);h.log(w());const o=s.BtG.CreateFromPrefilteredData(w(),t);t.createDefaultSkybox(o,!0);const r=new s.cEJ("camera1",new s.Pa4(0,0,-0),t);r.setTarget(s.Pa4.Zero()),r.attachControl(n,!0);new s.ezm("light1",new s.Pa4(0,1,0),t);return s.n0n.Append("",u().slice(1),t,(function(e){e.createDefaultCameraOrLight(!0,!0,!0);const n=e.activeCamera;n.alpha+=4*Math.PI/5,n.beta-=Math.PI/16})),t}}t(8675),t(3462);var g=t(4420);const b=(e,n)=>{const t=s.Pa4.Zero();function o(e,n){n=n||new s._fP,t.set(e.z,0,-e.x).normalize();const o=Math.acos(e.y);return n=s._fP.RotationAxisToRef(t,o,n),n}const r=new s.xsS(e);r.clearColor=new s.Wot(245/255,248/255,250/255);const a=new s.YfP("camera",Math.PI/2,Math.PI/3.5,50.7,new s.Pa4(0,0,0),r);a.lowerAlphaLimit=null,a.upperAlphaLimit=null,a.allowUpsideDown=!0,a.attachControl(n,!0),a.fov=1,a.minZ=.1,a.useAutoRotationBehavior=!0,a.autoRotationBehavior.idleRotationSpeed=.19;const i=new s.ezm("hemiLight",new s.Pa4(-1,1,0),r);i.intensity=1,i.diffuse=new s.Wot(1,1,1),i.specular=new s.Wot(.25,.25,.25),i.groundColor=new s.Wot(.5,.5,.5);const l=new g.tk("s",r);l.diffuseColor=new s.Wot(72/255,175/255,240/255),l.specularColor=new s.Wot(1,1,1),l.specularColor=new s.Wot(0,0,0),l.freeze();const c=s.VO7.CreateIcoSphere("baseSphere",{radius:20,subdivisions:64,updatable:!1,flat:!1},r),d=new s.KuD("mat",r);c.material=d,d.diffuseColor=new s.Wot(0,0,0),d.specularColor=new s.Wot(0,0,0);const f=[],p=10;for(let g=0;g<p;g+=1)f.push(new s.Pa4(0,g/p,0));const u=s.VO7.CreateTube("tube",{path:f,tessellation:6,radiusFunction:e=>{const n=1-(e+1)/p,t=Math.sin(n*Math.PI/2);return.125*t},cap:s.Kj0.NO_CAP,updatable:!1,sideOrientation:s.Kj0.DEFAULTSIDE});u.material=l,u.freezeWorldMatrix(),u.doNotSyncBoundingInfo=!0;const v=c.geometry.getVerticesData(s.oZy.PositionKind),w=c.geometry.getVerticesData(s.oZy.NormalKind),h=s._fP.RotationAxis(new s.Pa4(0,0,1),Math.PI/2),m=new s.Pa4(1,1,1),b=new s.y3G,y=v.length/3,x=new Float32Array(16*y),P=new Float32Array(y),C=new s.Pa4,W=new s.Pa4;for(let g=0;g<y;g+=1){C.x=v[3*g+0],C.y=v[3*g+1],C.z=v[3*g+2],m.y=1+.5*(.5*Math.random()-.5);const e=.5*(.5*Math.random()-.5),n=.5*(.5*Math.random()-.5),t=.5*(.5*Math.random()-.5),r=s._fP.RotationAlphaBetaGamma(e,n,t);C.rotateByQuaternionToRef(r,C),W.x=w[3*g+0],W.y=w[3*g+1],W.z=w[3*g+2],o(W,h),s.y3G.ComposeToRef(m,h,C,b),b.copyToArray(x,16*g),P[g]=g}u.thinInstanceSetBuffer("matrix",x,16,!0),u.thinInstanceSetBuffer("idx",P,1,!0),l.AddAttribute("idx"),l.Vertex_Definitions("\nvarying float vR;\nvarying float vIdx;\nattribute float idx;\n\n#define MOD3 vec3(.1031, .11369, .13787)\n\nvec3 hash33(vec3 p3) {\n  p3 = fract(p3 * MOD3);\n  p3 += dot(p3, p3.yxz + 19.19);\n  return -1.0 + 2.0 * fract(vec3((p3.x + p3.y) * p3.z, (p3.x + p3.z) * p3.y, (p3.y + p3.z) * p3.x));\n}\n\nfloat hash11(float p) {\n  p = fract(p * 0.1031);\n  p *= p + 33.33;\n  p *= p + p;\n  return fract(p);\n}\n\nfloat noise(vec3 p) {\n  const float K1 = 0.333333333;\n  const float K2 = 0.166666667;\n\n  vec3 i = floor(p + (p.x + p.y + p.z) * K1);\n  vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);\n\n  vec3 e = step(vec3(0.0), d0 - d0.yzx);\n  vec3 i1 = e * (1.0 - e.zxy);\n  vec3 i2 = 1.0 - e.zxy * (1.0 - e);\n\n  vec3 d1 = d0 - (i1 - 1.0 * K2);\n  vec3 d2 = d0 - (i2 - 2.0 * K2);\n  vec3 d3 = d0 - (1.0 - 3.0 * K2);\n\n  vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);\n  vec4 n = h * h * h * h *\n           vec4(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.0)));\n\n  return dot(vec4(31.316), n);\n}\n  \n  "),l.Vertex_Before_PositionUpdated("\n// ++++++++++++++++++++++++++\n\nfloat t = 100. + iTime * .75;\n\nvec3 oPos = position;\n\nvR = positionUpdated.y;\nvIdx = idx;\n\n// --------------------------\n\nvec4 world1c = world1;\n\nfloat lp1 = positionUpdated.y * .25 + 100.;\nfloat lp2 = positionUpdated.y * .25 + 1.;\n\npositionUpdated.y *= 3.;\n\nworld1c.x += noise(world2.rgb + vec3(-t, 0, 0) + vec3(lp1, 0., 0.)) * (lp2)*.5;\nworld1c.y += noise(world2.rgb + vec3(0, -t, 0) + vec3(0., lp1, 0.)) * (lp2)*.5;\nworld1c.z += noise(world2.rgb + vec3(0, 0, -t) + vec3(0., 0., lp1)) * (lp2)*.5;\n\nmat4 finalWorld = mat4(world0, world1c, world2, world3);\nfinalWorld = world * finalWorld;\nvec4 worldPos = finalWorld * vec4(positionUpdated, 1.0);\nmat3 normalWorld = mat3(finalWorld);\nvNormalW = normalUpdated / vec3(dot(normalWorld[0], normalWorld[0]), dot(normalWorld[1], normalWorld[1]),\n                                dot(normalWorld[2], normalWorld[2]));\nvNormalW = normalize(normalWorld * vNormalW);\n\n// Comment below\n/*\n  \n  "),l.Fragment_Definitions("\nvarying float vR;\nvarying float vIdx;\n\nfloat hash11(float p) {\n  p = fract(p * 0.1031);\n  p *= p + 33.33;\n  p *= p + p;\n  return fract(p);\n}\n  \n  "),l.Fragment_Custom_Diffuse("\n// vec3 col = vDiffuseColor.rgb * (vR*.75);\n\nfloat rColFactor = hash11(vIdx * .001);\n\ndiffuseColor = vDiffuseColor.rgb * (vR * 1.5) * (.85 + rColFactor * .3);\n  \n  "),l.Vertex_After_WorldPosComputed("*/"),l.AddUniform("iTime","float",void 0);const z=+new Date;let A=0;return l.onBind=()=>{A=.001*(+new Date-z),l.getEffect().setFloat("iTime",A)},r};var y=t(7368),x=t.n(y);class P{static async CreateScene(e,n){const t=new s.xsS(e),o=new s.YfP("MainCamera1",0,0,3,new s.Pa4(0,1.2,0),t);o.lowerRadiusLimit=.1,o.upperRadiusLimit=20,o.wheelDeltaPercentage=.01,o.minZ=.3,o.position=new s.Pa4(0,1.2,-3),o.attachControl(n,!0);new s.ezm("light1",new s.Pa4(0,1,0),t);return await s.n0n.AppendAsync("",x().slice(1),t),t}}const C=(0,r.aZ)({setup(){const e=(0,i.iH)(),{width:n,height:t}=(0,a.iPe)();return(0,r.bv)((async()=>{const n=e.value;(0,d.ok)(n);const t=new s.D4V(n,!0,{preserveDrawingBuffer:!0,stencil:!0}),o={v:"pbr"},r=async e=>{let r;switch(e){case"ball":r=b(t,n);break;case"girl":r=await P.CreateScene(t,n);break;default:r=m.CreateScene(t,n)}const a=f["in"].CreateFullscreenUI("UI"),i=new f.eL;a.addControl(i),i.verticalAlignment=f.oT.VERTICAL_ALIGNMENT_TOP,i.top="50px";const l=e=>{const n=f.zx.CreateSimpleButton("but"+e,e);n.width=.2,n.height="40px",n.color="white",n.background="green",i.addControl(n),n.onPointerClickObservable.add((function(n){o.v=e}))};return l("ball"),l("girl"),l("pbr"),r},a={pbr:await r("pbr"),girl:await r("girl"),ball:await r("ball")},i=()=>a[o.v];t.runRenderLoop((function(){i().render()})),window.addEventListener("resize",(function(){t.resize()}))})),()=>(0,r.Wm)("canvas",{ref:e,height:t.value,width:n.value},null)}});(0,o.ri)(C).mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,a){if(!o){var i=1/0;for(s=0;s<e.length;s++){o=e[s][0],r=e[s][1],a=e[s][2];for(var l=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[c])}))?o.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(s--,1);var d=r();void 0!==d&&(n=d)}}return n}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[o,r,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,a,i=o[0],l=o[1],c=o[2],d=0;if(i.some((function(n){return 0!==e[n]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(c)var s=c(t)}for(n&&n(o);d<i.length;d++)a=i[d],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(s)},o=self["webpackChunkextendable_viewer"]=self["webpackChunkextendable_viewer"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(2651)}));o=t.O(o)})();
//# sourceMappingURL=app.66f0ecf6.js.map